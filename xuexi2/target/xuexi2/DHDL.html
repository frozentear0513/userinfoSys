<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>电话登录</title>

    <script src="jquery/jquery-3.5.1.js"></script>

</head>
<body>
<form>
    <div> 用户名: <input type="text" id="yhm"></div>
    <div> 密码: <input type="text" id="mm"></div>
    <div> 验证手机: <input type="text" id="dh"></div>
    <div> 验证码: <input type="text" id="yzm"></div>
</form>
<button id="hqyzm">获取验证码</button>
<button id="dl">登录</button>
<button onclick="ff()">忘记密码</button>

</body>
<script>
    function ff() {
        window.location.href = "fasongyanzheng.html";
    }

    $(function () {
        $("#hqyzm").click(function () {
            var tel = $("#dh").val();
            $.ajax({
                url: "/fasongyanzhengma",   // 请求路径
                type: "post",            // 请求的方式，不区分大小写
                // async:true,             // 是否异步，true是默认值，false为同步请求
                // cache:false,            // 关闭缓存，目的是为了避免部分浏览器缓存加载出错(IE)
                // datatype:"html",        // 返回类型，text文本、html页面、json数据
                data: {
                    tel: tel
                },
                success: function (response) {
                    var json = JSON.parse(response);
                    console.log(json)
                    if (json.code === 200) {

                        console.log(times)
                        alert("发送成功");
                        // obj.del();
                        // window.location.reload();
                        // table.reload('test', {})
                        // // window.location.href = "lianxi.html;"
                    }
                },
                error: function (response) {
                    alert("出错" + response);
                }
            });
        });
        $("#dl").click(function () {
            var tel = $("#dh").val();
            var yzm = $("#yzm").val();
            $.ajax({
                url: "/dengluyanzheng",   // 请求路径
                type: "post",            // 请求的方式，不区分大小写
                // async:true,             // 是否异步，true是默认值，false为同步请求
                // cache:false,            // 关闭缓存，目的是为了避免部分浏览器缓存加载出错(IE)
                // datatype:"html",        // 返回类型，text文本、html页面、json数据
                data: {
                    tel: tel,
                    mobile_code: yzm,

                },
                success: function (response) {
                    var json = JSON.parse(response);
                    console.log(json)
                    if (json.code === 200) {
                        alert("登录成功");
                        // obj.del();
                        // window.location.reload();
                        // table.reload('test', {})
                        // // window.location.href = "lianxi.html;"

                    }
                },
                error: function (response) {
                    alert("出错" + response);

                }
            });
        })
        $("#cz").click(function () {

            $.ajax({
                url: "/dengluyanzheng",   // 请求路径
                type: "post",            // 请求的方式，不区分大小写
                // async:true,             // 是否异步，true是默认值，false为同步请求
                // cache:false,            // 关闭缓存，目的是为了避免部分浏览器缓存加载出错(IE)
                // datatype:"html",        // 返回类型，text文本、html页面、json数据
                data: {
                    tel: tel,
                    mobile_code: yzm,

                },
                success: function (response) {
                    var json = JSON.parse(response);
                    console.log(json)
                    if (json.code === 200) {
                        alert("登录成功");
                        // obj.del();
                        // window.location.reload();
                        // table.reload('test', {})
                        // // window.location.href = "lianxi.html;"

                    }
                },
                error: function (response) {
                    alert("出错" + response);

                }
            });
        })
    })
</script>
</html>